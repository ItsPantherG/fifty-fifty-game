{"ast":null,"code":"\"use strict\";\n\n/**\n * Copyright 2017 Google Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __classPrivateFieldSet = this && this.__classPrivateFieldSet || function (receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar __classPrivateFieldGet = this && this.__classPrivateFieldGet || function (receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _Keyboard_instances, _Keyboard_client, _Keyboard_pressedKeys, _Keyboard_modifierBit, _Keyboard_keyDescriptionForString, _Mouse_client, _Mouse_keyboard, _Mouse_x, _Mouse_y, _Mouse_button, _Touchscreen_client, _Touchscreen_keyboard;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Touchscreen = exports.Mouse = exports.Keyboard = void 0;\nconst assert_js_1 = require(\"../util/assert.js\");\nconst USKeyboardLayout_js_1 = require(\"./USKeyboardLayout.js\");\n/**\n * Keyboard provides an api for managing a virtual keyboard.\n * The high level api is {@link Keyboard.\"type\"},\n * which takes raw characters and generates proper keydown, keypress/input,\n * and keyup events on your page.\n *\n * @remarks\n * For finer control, you can use {@link Keyboard.down},\n * {@link Keyboard.up}, and {@link Keyboard.sendCharacter}\n * to manually fire events as if they were generated from a real keyboard.\n *\n * On macOS, keyboard shortcuts like `⌘ A` -\\> Select All do not work.\n * See {@link https://github.com/puppeteer/puppeteer/issues/1313 | #1313}.\n *\n * @example\n * An example of holding down `Shift` in order to select and delete some text:\n *\n * ```ts\n * await page.keyboard.type('Hello World!');\n * await page.keyboard.press('ArrowLeft');\n *\n * await page.keyboard.down('Shift');\n * for (let i = 0; i < ' World'.length; i++)\n *   await page.keyboard.press('ArrowLeft');\n * await page.keyboard.up('Shift');\n *\n * await page.keyboard.press('Backspace');\n * // Result text will end up saying 'Hello!'\n * ```\n *\n * @example\n * An example of pressing `A`\n *\n * ```ts\n * await page.keyboard.down('Shift');\n * await page.keyboard.press('KeyA');\n * await page.keyboard.up('Shift');\n * ```\n *\n * @public\n */\nclass Keyboard {\n  /**\n   * @internal\n   */\n  constructor(client) {\n    _Keyboard_instances.add(this);\n    _Keyboard_client.set(this, void 0);\n    _Keyboard_pressedKeys.set(this, new Set());\n    /**\n     * @internal\n     */\n    this._modifiers = 0;\n    __classPrivateFieldSet(this, _Keyboard_client, client, \"f\");\n  }\n  /**\n   * Dispatches a `keydown` event.\n   *\n   * @remarks\n   * If `key` is a single character and no modifier keys besides `Shift`\n   * are being held down, a `keypress`/`input` event will also generated.\n   * The `text` option can be specified to force an input event to be generated.\n   * If `key` is a modifier key, `Shift`, `Meta`, `Control`, or `Alt`,\n   * subsequent key presses will be sent with that modifier active.\n   * To release the modifier key, use {@link Keyboard.up}.\n   *\n   * After the key is pressed once, subsequent calls to\n   * {@link Keyboard.down} will have\n   * {@link https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/repeat | repeat}\n   * set to true. To release the key, use {@link Keyboard.up}.\n   *\n   * Modifier keys DO influence {@link Keyboard.down}.\n   * Holding down `Shift` will type the text in upper case.\n   *\n   * @param key - Name of key to press, such as `ArrowLeft`.\n   * See {@link KeyInput} for a list of all key names.\n   *\n   * @param options - An object of options. Accepts text which, if specified,\n   * generates an input event with this text.\n   */\n  async down(key) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      text: undefined\n    };\n    const description = __classPrivateFieldGet(this, _Keyboard_instances, \"m\", _Keyboard_keyDescriptionForString).call(this, key);\n    const autoRepeat = __classPrivateFieldGet(this, _Keyboard_pressedKeys, \"f\").has(description.code);\n    __classPrivateFieldGet(this, _Keyboard_pressedKeys, \"f\").add(description.code);\n    this._modifiers |= __classPrivateFieldGet(this, _Keyboard_instances, \"m\", _Keyboard_modifierBit).call(this, description.key);\n    const text = options.text === undefined ? description.text : options.text;\n    await __classPrivateFieldGet(this, _Keyboard_client, \"f\").send('Input.dispatchKeyEvent', {\n      type: text ? 'keyDown' : 'rawKeyDown',\n      modifiers: this._modifiers,\n      windowsVirtualKeyCode: description.keyCode,\n      code: description.code,\n      key: description.key,\n      text: text,\n      unmodifiedText: text,\n      autoRepeat,\n      location: description.location,\n      isKeypad: description.location === 3\n    });\n  }\n  /**\n   * Dispatches a `keyup` event.\n   *\n   * @param key - Name of key to release, such as `ArrowLeft`.\n   * See {@link KeyInput | KeyInput}\n   * for a list of all key names.\n   */\n  async up(key) {\n    const description = __classPrivateFieldGet(this, _Keyboard_instances, \"m\", _Keyboard_keyDescriptionForString).call(this, key);\n    this._modifiers &= ~__classPrivateFieldGet(this, _Keyboard_instances, \"m\", _Keyboard_modifierBit).call(this, description.key);\n    __classPrivateFieldGet(this, _Keyboard_pressedKeys, \"f\").delete(description.code);\n    await __classPrivateFieldGet(this, _Keyboard_client, \"f\").send('Input.dispatchKeyEvent', {\n      type: 'keyUp',\n      modifiers: this._modifiers,\n      key: description.key,\n      windowsVirtualKeyCode: description.keyCode,\n      code: description.code,\n      location: description.location\n    });\n  }\n  /**\n   * Dispatches a `keypress` and `input` event.\n   * This does not send a `keydown` or `keyup` event.\n   *\n   * @remarks\n   * Modifier keys DO NOT effect {@link Keyboard.sendCharacter | Keyboard.sendCharacter}.\n   * Holding down `Shift` will not type the text in upper case.\n   *\n   * @example\n   *\n   * ```ts\n   * page.keyboard.sendCharacter('嗨');\n   * ```\n   *\n   * @param char - Character to send into the page.\n   */\n  async sendCharacter(char) {\n    await __classPrivateFieldGet(this, _Keyboard_client, \"f\").send('Input.insertText', {\n      text: char\n    });\n  }\n  charIsKey(char) {\n    return !!USKeyboardLayout_js_1._keyDefinitions[char];\n  }\n  /**\n   * Sends a `keydown`, `keypress`/`input`,\n   * and `keyup` event for each character in the text.\n   *\n   * @remarks\n   * To press a special key, like `Control` or `ArrowDown`,\n   * use {@link Keyboard.press}.\n   *\n   * Modifier keys DO NOT effect `keyboard.type`.\n   * Holding down `Shift` will not type the text in upper case.\n   *\n   * @example\n   *\n   * ```ts\n   * await page.keyboard.type('Hello'); // Types instantly\n   * await page.keyboard.type('World', {delay: 100}); // Types slower, like a user\n   * ```\n   *\n   * @param text - A text to type into a focused element.\n   * @param options - An object of options. Accepts delay which,\n   * if specified, is the time to wait between `keydown` and `keyup` in milliseconds.\n   * Defaults to 0.\n   */\n  async type(text) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const delay = options.delay || undefined;\n    for (const char of text) {\n      if (this.charIsKey(char)) {\n        await this.press(char, {\n          delay\n        });\n      } else {\n        if (delay) {\n          await new Promise(f => {\n            return setTimeout(f, delay);\n          });\n        }\n        await this.sendCharacter(char);\n      }\n    }\n  }\n  /**\n   * Shortcut for {@link Keyboard.down}\n   * and {@link Keyboard.up}.\n   *\n   * @remarks\n   * If `key` is a single character and no modifier keys besides `Shift`\n   * are being held down, a `keypress`/`input` event will also generated.\n   * The `text` option can be specified to force an input event to be generated.\n   *\n   * Modifier keys DO effect {@link Keyboard.press}.\n   * Holding down `Shift` will type the text in upper case.\n   *\n   * @param key - Name of key to press, such as `ArrowLeft`.\n   * See {@link KeyInput} for a list of all key names.\n   *\n   * @param options - An object of options. Accepts text which, if specified,\n   * generates an input event with this text. Accepts delay which,\n   * if specified, is the time to wait between `keydown` and `keyup` in milliseconds.\n   * Defaults to 0.\n   */\n  async press(key) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const {\n      delay = null\n    } = options;\n    await this.down(key, options);\n    if (delay) {\n      await new Promise(f => {\n        return setTimeout(f, options.delay);\n      });\n    }\n    await this.up(key);\n  }\n}\nexports.Keyboard = Keyboard;\n_Keyboard_client = new WeakMap(), _Keyboard_pressedKeys = new WeakMap(), _Keyboard_instances = new WeakSet(), _Keyboard_modifierBit = function _Keyboard_modifierBit(key) {\n  if (key === 'Alt') {\n    return 1;\n  }\n  if (key === 'Control') {\n    return 2;\n  }\n  if (key === 'Meta') {\n    return 4;\n  }\n  if (key === 'Shift') {\n    return 8;\n  }\n  return 0;\n}, _Keyboard_keyDescriptionForString = function _Keyboard_keyDescriptionForString(keyString) {\n  const shift = this._modifiers & 8;\n  const description = {\n    key: '',\n    keyCode: 0,\n    code: '',\n    text: '',\n    location: 0\n  };\n  const definition = USKeyboardLayout_js_1._keyDefinitions[keyString];\n  (0, assert_js_1.assert)(definition, `Unknown key: \"${keyString}\"`);\n  if (definition.key) {\n    description.key = definition.key;\n  }\n  if (shift && definition.shiftKey) {\n    description.key = definition.shiftKey;\n  }\n  if (definition.keyCode) {\n    description.keyCode = definition.keyCode;\n  }\n  if (shift && definition.shiftKeyCode) {\n    description.keyCode = definition.shiftKeyCode;\n  }\n  if (definition.code) {\n    description.code = definition.code;\n  }\n  if (definition.location) {\n    description.location = definition.location;\n  }\n  if (description.key.length === 1) {\n    description.text = description.key;\n  }\n  if (definition.text) {\n    description.text = definition.text;\n  }\n  if (shift && definition.shiftText) {\n    description.text = definition.shiftText;\n  }\n  // if any modifiers besides shift are pressed, no text should be sent\n  if (this._modifiers & ~8) {\n    description.text = '';\n  }\n  return description;\n};\n/**\n * The Mouse class operates in main-frame CSS pixels\n * relative to the top-left corner of the viewport.\n * @remarks\n * Every `page` object has its own Mouse, accessible with [`page.mouse`](#pagemouse).\n *\n * @example\n *\n * ```ts\n * // Using ‘page.mouse’ to trace a 100x100 square.\n * await page.mouse.move(0, 0);\n * await page.mouse.down();\n * await page.mouse.move(0, 100);\n * await page.mouse.move(100, 100);\n * await page.mouse.move(100, 0);\n * await page.mouse.move(0, 0);\n * await page.mouse.up();\n * ```\n *\n * **Note**: The mouse events trigger synthetic `MouseEvent`s.\n * This means that it does not fully replicate the functionality of what a normal user\n * would be able to do with their mouse.\n *\n * For example, dragging and selecting text is not possible using `page.mouse`.\n * Instead, you can use the {@link https://developer.mozilla.org/en-US/docs/Web/API/DocumentOrShadowRoot/getSelection | `DocumentOrShadowRoot.getSelection()`} functionality implemented in the platform.\n *\n * @example\n * For example, if you want to select all content between nodes:\n *\n * ```ts\n * await page.evaluate(\n *   (from, to) => {\n *     const selection = from.getRootNode().getSelection();\n *     const range = document.createRange();\n *     range.setStartBefore(from);\n *     range.setEndAfter(to);\n *     selection.removeAllRanges();\n *     selection.addRange(range);\n *   },\n *   fromJSHandle,\n *   toJSHandle\n * );\n * ```\n *\n * If you then would want to copy-paste your selection, you can use the clipboard api:\n *\n * ```ts\n * // The clipboard api does not allow you to copy, unless the tab is focused.\n * await page.bringToFront();\n * await page.evaluate(() => {\n *   // Copy the selected content to the clipboard\n *   document.execCommand('copy');\n *   // Obtain the content of the clipboard as a string\n *   return navigator.clipboard.readText();\n * });\n * ```\n *\n * **Note**: If you want access to the clipboard API,\n * you have to give it permission to do so:\n *\n * ```ts\n * await browser\n *   .defaultBrowserContext()\n *   .overridePermissions('<your origin>', [\n *     'clipboard-read',\n *     'clipboard-write',\n *   ]);\n * ```\n *\n * @public\n */\nclass Mouse {\n  /**\n   * @internal\n   */\n  constructor(client, keyboard) {\n    _Mouse_client.set(this, void 0);\n    _Mouse_keyboard.set(this, void 0);\n    _Mouse_x.set(this, 0);\n    _Mouse_y.set(this, 0);\n    _Mouse_button.set(this, 'none');\n    __classPrivateFieldSet(this, _Mouse_client, client, \"f\");\n    __classPrivateFieldSet(this, _Mouse_keyboard, keyboard, \"f\");\n  }\n  /**\n   * Dispatches a `mousemove` event.\n   * @param x - Horizontal position of the mouse.\n   * @param y - Vertical position of the mouse.\n   * @param options - Optional object. If specified, the `steps` property\n   * sends intermediate `mousemove` events when set to `1` (default).\n   */\n  async move(x, y) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    const {\n      steps = 1\n    } = options;\n    const fromX = __classPrivateFieldGet(this, _Mouse_x, \"f\"),\n      fromY = __classPrivateFieldGet(this, _Mouse_y, \"f\");\n    __classPrivateFieldSet(this, _Mouse_x, x, \"f\");\n    __classPrivateFieldSet(this, _Mouse_y, y, \"f\");\n    for (let i = 1; i <= steps; i++) {\n      await __classPrivateFieldGet(this, _Mouse_client, \"f\").send('Input.dispatchMouseEvent', {\n        type: 'mouseMoved',\n        button: __classPrivateFieldGet(this, _Mouse_button, \"f\"),\n        x: fromX + (__classPrivateFieldGet(this, _Mouse_x, \"f\") - fromX) * (i / steps),\n        y: fromY + (__classPrivateFieldGet(this, _Mouse_y, \"f\") - fromY) * (i / steps),\n        modifiers: __classPrivateFieldGet(this, _Mouse_keyboard, \"f\")._modifiers\n      });\n    }\n  }\n  /**\n   * Shortcut for `mouse.move`, `mouse.down` and `mouse.up`.\n   * @param x - Horizontal position of the mouse.\n   * @param y - Vertical position of the mouse.\n   * @param options - Optional `MouseOptions`.\n   */\n  async click(x, y) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    const {\n      delay = null\n    } = options;\n    if (delay !== null) {\n      await this.move(x, y);\n      await this.down(options);\n      await new Promise(f => {\n        return setTimeout(f, delay);\n      });\n      await this.up(options);\n    } else {\n      await this.move(x, y);\n      await this.down(options);\n      await this.up(options);\n    }\n  }\n  /**\n   * Dispatches a `mousedown` event.\n   * @param options - Optional `MouseOptions`.\n   */\n  async down() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const {\n      button = 'left',\n      clickCount = 1\n    } = options;\n    __classPrivateFieldSet(this, _Mouse_button, button, \"f\");\n    await __classPrivateFieldGet(this, _Mouse_client, \"f\").send('Input.dispatchMouseEvent', {\n      type: 'mousePressed',\n      button,\n      x: __classPrivateFieldGet(this, _Mouse_x, \"f\"),\n      y: __classPrivateFieldGet(this, _Mouse_y, \"f\"),\n      modifiers: __classPrivateFieldGet(this, _Mouse_keyboard, \"f\")._modifiers,\n      clickCount\n    });\n  }\n  /**\n   * Dispatches a `mouseup` event.\n   * @param options - Optional `MouseOptions`.\n   */\n  async up() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const {\n      button = 'left',\n      clickCount = 1\n    } = options;\n    __classPrivateFieldSet(this, _Mouse_button, 'none', \"f\");\n    await __classPrivateFieldGet(this, _Mouse_client, \"f\").send('Input.dispatchMouseEvent', {\n      type: 'mouseReleased',\n      button,\n      x: __classPrivateFieldGet(this, _Mouse_x, \"f\"),\n      y: __classPrivateFieldGet(this, _Mouse_y, \"f\"),\n      modifiers: __classPrivateFieldGet(this, _Mouse_keyboard, \"f\")._modifiers,\n      clickCount\n    });\n  }\n  /**\n   * Dispatches a `mousewheel` event.\n   * @param options - Optional: `MouseWheelOptions`.\n   *\n   * @example\n   * An example of zooming into an element:\n   *\n   * ```ts\n   * await page.goto(\n   *   'https://mdn.mozillademos.org/en-US/docs/Web/API/Element/wheel_event$samples/Scaling_an_element_via_the_wheel?revision=1587366'\n   * );\n   *\n   * const elem = await page.$('div');\n   * const boundingBox = await elem.boundingBox();\n   * await page.mouse.move(\n   *   boundingBox.x + boundingBox.width / 2,\n   *   boundingBox.y + boundingBox.height / 2\n   * );\n   *\n   * await page.mouse.wheel({deltaY: -100});\n   * ```\n   */\n  async wheel() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const {\n      deltaX = 0,\n      deltaY = 0\n    } = options;\n    await __classPrivateFieldGet(this, _Mouse_client, \"f\").send('Input.dispatchMouseEvent', {\n      type: 'mouseWheel',\n      x: __classPrivateFieldGet(this, _Mouse_x, \"f\"),\n      y: __classPrivateFieldGet(this, _Mouse_y, \"f\"),\n      deltaX,\n      deltaY,\n      modifiers: __classPrivateFieldGet(this, _Mouse_keyboard, \"f\")._modifiers,\n      pointerType: 'mouse'\n    });\n  }\n  /**\n   * Dispatches a `drag` event.\n   * @param start - starting point for drag\n   * @param target - point to drag to\n   */\n  async drag(start, target) {\n    const promise = new Promise(resolve => {\n      __classPrivateFieldGet(this, _Mouse_client, \"f\").once('Input.dragIntercepted', event => {\n        return resolve(event.data);\n      });\n    });\n    await this.move(start.x, start.y);\n    await this.down();\n    await this.move(target.x, target.y);\n    return promise;\n  }\n  /**\n   * Dispatches a `dragenter` event.\n   * @param target - point for emitting `dragenter` event\n   * @param data - drag data containing items and operations mask\n   */\n  async dragEnter(target, data) {\n    await __classPrivateFieldGet(this, _Mouse_client, \"f\").send('Input.dispatchDragEvent', {\n      type: 'dragEnter',\n      x: target.x,\n      y: target.y,\n      modifiers: __classPrivateFieldGet(this, _Mouse_keyboard, \"f\")._modifiers,\n      data\n    });\n  }\n  /**\n   * Dispatches a `dragover` event.\n   * @param target - point for emitting `dragover` event\n   * @param data - drag data containing items and operations mask\n   */\n  async dragOver(target, data) {\n    await __classPrivateFieldGet(this, _Mouse_client, \"f\").send('Input.dispatchDragEvent', {\n      type: 'dragOver',\n      x: target.x,\n      y: target.y,\n      modifiers: __classPrivateFieldGet(this, _Mouse_keyboard, \"f\")._modifiers,\n      data\n    });\n  }\n  /**\n   * Performs a dragenter, dragover, and drop in sequence.\n   * @param target - point to drop on\n   * @param data - drag data containing items and operations mask\n   */\n  async drop(target, data) {\n    await __classPrivateFieldGet(this, _Mouse_client, \"f\").send('Input.dispatchDragEvent', {\n      type: 'drop',\n      x: target.x,\n      y: target.y,\n      modifiers: __classPrivateFieldGet(this, _Mouse_keyboard, \"f\")._modifiers,\n      data\n    });\n  }\n  /**\n   * Performs a drag, dragenter, dragover, and drop in sequence.\n   * @param start - point to drag from\n   * @param target - point to drop on\n   * @param options - An object of options. Accepts delay which,\n   * if specified, is the time to wait between `dragover` and `drop` in milliseconds.\n   * Defaults to 0.\n   */\n  async dragAndDrop(start, target) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    const {\n      delay = null\n    } = options;\n    const data = await this.drag(start, target);\n    await this.dragEnter(target, data);\n    await this.dragOver(target, data);\n    if (delay) {\n      await new Promise(resolve => {\n        return setTimeout(resolve, delay);\n      });\n    }\n    await this.drop(target, data);\n    await this.up();\n  }\n}\nexports.Mouse = Mouse;\n_Mouse_client = new WeakMap(), _Mouse_keyboard = new WeakMap(), _Mouse_x = new WeakMap(), _Mouse_y = new WeakMap(), _Mouse_button = new WeakMap();\n/**\n * The Touchscreen class exposes touchscreen events.\n * @public\n */\nclass Touchscreen {\n  /**\n   * @internal\n   */\n  constructor(client, keyboard) {\n    _Touchscreen_client.set(this, void 0);\n    _Touchscreen_keyboard.set(this, void 0);\n    __classPrivateFieldSet(this, _Touchscreen_client, client, \"f\");\n    __classPrivateFieldSet(this, _Touchscreen_keyboard, keyboard, \"f\");\n  }\n  /**\n   * Dispatches a `touchstart` and `touchend` event.\n   * @param x - Horizontal position of the tap.\n   * @param y - Vertical position of the tap.\n   */\n  async tap(x, y) {\n    const touchPoints = [{\n      x: Math.round(x),\n      y: Math.round(y)\n    }];\n    await __classPrivateFieldGet(this, _Touchscreen_client, \"f\").send('Input.dispatchTouchEvent', {\n      type: 'touchStart',\n      touchPoints,\n      modifiers: __classPrivateFieldGet(this, _Touchscreen_keyboard, \"f\")._modifiers\n    });\n    await __classPrivateFieldGet(this, _Touchscreen_client, \"f\").send('Input.dispatchTouchEvent', {\n      type: 'touchEnd',\n      touchPoints: [],\n      modifiers: __classPrivateFieldGet(this, _Touchscreen_keyboard, \"f\")._modifiers\n    });\n  }\n}\nexports.Touchscreen = Touchscreen;\n_Touchscreen_client = new WeakMap(), _Touchscreen_keyboard = new WeakMap();","map":{"version":3,"mappings":"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","names":["Keyboard","constructor","client","_Keyboard_client","_Keyboard_pressedKeys","Set","__classPrivateFieldSet","down","key","options","text","undefined","description","__classPrivateFieldGet","autoRepeat","has","code","add","_modifiers","send","type","modifiers","windowsVirtualKeyCode","keyCode","unmodifiedText","location","isKeypad","up","delete","sendCharacter","char","charIsKey","USKeyboardLayout_js_1","delay","press","Promise","f","setTimeout","exports","keyString","shift","definition","shiftKey","shiftKeyCode","length","shiftText","Mouse","keyboard","_Mouse_client","_Mouse_keyboard","_Mouse_x","_Mouse_y","_Mouse_button","move","x","y","steps","fromX","fromY","i","button","click","clickCount","wheel","deltaX","deltaY","pointerType","drag","start","target","promise","resolve","once","event","data","dragEnter","dragOver","drop","dragAndDrop","Touchscreen","_Touchscreen_client","_Touchscreen_keyboard","tap","touchPoints","Math","round"],"sources":["../../../../src/common/Input.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}