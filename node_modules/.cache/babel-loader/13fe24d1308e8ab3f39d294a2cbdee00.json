{"ast":null,"code":"\"use strict\";\n\n/**\n * Copyright 2022 Google Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __classPrivateFieldSet = this && this.__classPrivateFieldSet || function (receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar __classPrivateFieldGet = this && this.__classPrivateFieldGet || function (receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _Page_connection, _Page_contextId;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Page = void 0;\nconst Page_js_1 = require(\"../../api/Page.js\");\n/**\n * @internal\n */\nclass Page extends Page_js_1.Page {\n  constructor(connection, contextId) {\n    super();\n    _Page_connection.set(this, void 0);\n    _Page_contextId.set(this, void 0);\n    __classPrivateFieldSet(this, _Page_connection, connection, \"f\");\n    __classPrivateFieldSet(this, _Page_contextId, contextId, \"f\");\n  }\n  async close() {\n    await __classPrivateFieldGet(this, _Page_connection, \"f\").send('browsingContext.close', {\n      context: __classPrivateFieldGet(this, _Page_contextId, \"f\")\n    });\n  }\n  async evaluate(pageFunction) {\n    // TODO: re-use evaluate logic from Execution context.\n    const str = `(${pageFunction.toString()})()`;\n    const result = await __classPrivateFieldGet(this, _Page_connection, \"f\").send('script.evaluate', {\n      expression: str,\n      target: {\n        context: __classPrivateFieldGet(this, _Page_contextId, \"f\")\n      },\n      awaitPromise: true\n    });\n    return result.result.value;\n  }\n}\nexports.Page = Page;\n_Page_connection = new WeakMap(), _Page_contextId = new WeakMap();","map":{"version":3,"mappings":";;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgBA;AAIA;;;AAGA,MAAaA,IAAK,SAAQC,cAAQ;EAIhCC,YAAYC,UAAsB,EAAEC,SAAiB;IACnD,KAAK,EAAE;IAJTC;IACAC;IAIEC,2BAAI,oBAAeJ,UAAU;IAC7BI,2BAAI,mBAAcH,SAAS;EAC7B;EAES,MAAMI,KAAK;IAClB,MAAMC,2BAAI,wBAAY,CAACC,IAAI,CAAC,uBAAuB,EAAE;MACnDC,OAAO,EAAEF,2BAAI;KACd,CAAC;EACJ;EAES,MAAMG,QAAQ,CAIrBC,YAA2B,EACX;IAEhB;IACA,MAAMC,GAAG,GAAG,IAAID,YAAY,CAACE,QAAQ,EAAE,KAAK;IAC5C,MAAMC,MAAM,GAAI,MAAMP,2BAAI,wBAAY,CAACC,IAAI,CAAC,iBAAiB,EAAE;MAC7DO,UAAU,EAAEH,GAAG;MACfI,MAAM,EAAE;QAACP,OAAO,EAAEF,2BAAI;MAAW,CAAC;MAClCU,YAAY,EAAE;KACf,CAA0C;IAC3C,OAAOH,MAAM,CAACA,MAAM,CAACI,KAAK;EAC5B;;AA/BFC","names":["Page","Page_js_1","constructor","connection","contextId","_Page_connection","_Page_contextId","__classPrivateFieldSet","close","__classPrivateFieldGet","send","context","evaluate","pageFunction","str","toString","result","expression","target","awaitPromise","value","exports"],"sources":["../../../../../src/common/bidi/Page.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}